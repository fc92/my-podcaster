# README for Raspberry Pi Zero W version (raspi)
The initial roadmap was written with custom NodeJS web interface in mind.
It turned out that most of the features are available from existing open source projects more system oriented (gPodder+maplyer).  
A simple touch pHat device provides a simple interface directly on raspi.

## Requirements
So the first implementation is written for raspi with a few requirements:
- Wifi connection for remote access to raspi routed to Internet for webradio streaming and podcast downloads
- A bluetooth speaker acting as A2DP sink to generate audio signal
- Raspbian GNU/Linux 10 (buster) operating system to boot raspi
- ALSA and BlueAlsa for bluetooth management
- gPodder to manage podcast (subscription, downloads) and m3u paylist generation to feed MPlayer
- MPlayer to play audio files based on m3u paylist generated by gPodder
- Python3 with touch pHat and mplayer.py libraries

## Initial configuration
Initial configuration is done with SSH access to raspi:
- install dependencies with apt package management system
- configure bluetooth manually (bluealsa with $HOME/.asoundrc to specify the bluetooth a2dp sink devicet to use ; only one is supported)
- git clone https://github.com/fc92
- run podcaster.py manually
- copy shell scripts and configure crontab
Reommended tests:
- bluetooth connection at boot
- podcaster working after boot
- new podcast episodes available in no more thab 20 minutes delay
Advanced gPodder configuration requires SSH + X

## Daily usage
Touch pHat buttons allow to:
- button A: play next webradio in the list of URLs predefined in the code
- button B: play next podcast playlist in the list of m3u files generated and updated by gPodder
- button C: reduce volume
- button D: increase volume
- button back: pause/play
- button enter: go to next episode of the current podcast playlist

## Keyboard interface (mainly for development on PC)
- 0: play/payse
- a: play next radio
- b: play next podcast
- c: volume down
- d: volume up
- 1: next episode in the current podcast playlist
- Esc: exit

## Tips for development with Visual Studio Code
Pulse audio is not working with the snap distribution of VS Code.  
Prefer the .deb version of VS Code for audio tests.
